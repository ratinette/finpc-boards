<!DOCTYPE html>
<html>
<head>
    <title>게시판</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

</head>
<body>
    <nav class="navbar navbar-light bg-light">
        <div>
          {% for board in board_list %}
            <button class="btn btn-outline-primary" onclick="window.location.href = '{% url 'boards' %}?id={{ board.id }}'">{{ board.title }}</button>
          {% endfor %}
          <button class="btn btn-success" onclick="window.location.href='{% url 'posts' %}'">+ 새 글 쓰기</button>
        </div>
        <div>
          {% if user.is_authenticated %}
            <b><span class="user-id">{{ user.username }}</span></b>
            <button class="btn btn-danger" onclick="window.location.href='{% url 'logout' %}'">로그아웃</button>
          {% else %}
            <button class="btn btn-primary" onclick="window.location.href='{% url 'login' %}'">로그인</button>
          {% endif %}
        </div>
    </nav>
    <div class="container mt-4">
      <table class="table">
          <thead>
              <tr>
                  <th scope="col">No.</th>
                  <th scope="col">글 제목</th>
                  <th scope="col">작성자</th>
                  <th scope="col">작성 시간</th>
              </tr>
          </thead>
          <tbody>
              {% for post in posts %}
              <tr>
                  <td>{{ post.id }}</td>
                  <td><a href="/posts/{{ post.id }}">{{ post.title }}</a></td>
                  <td>{{ post.author.username }}</td>
                  <td>{{ post.created_at }}</td>
              </tr>
              {% empty %}
              <tr>
                  <td colspan="4" style="text-align: center;">아직 게시된 글이 없습니다.</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>
</body>
</html>
